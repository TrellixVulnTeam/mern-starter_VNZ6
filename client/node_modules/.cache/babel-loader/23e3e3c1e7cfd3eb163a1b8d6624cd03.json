{"ast":null,"code":"import * as api from '../api';\nimport { FETCH_PROJECTS, FETCH_PROJECT, CREATE_PROJECT, DELETE_PROJECT, UPDATE_PROJECT } from '../types/index';\nimport { errorFlashMessage, addFlashMessage } from './helpers.js';\nexport const getProjects = () => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.fetchProjects();\n    dispatch({\n      type: FETCH_PROJECTS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error.message);\n    errorFlashMessage(error, dispatch, \"danger\");\n  }\n};\nexport const getProject = projectId => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.fetchProject(projectId);\n    dispatch({\n      type: FETCH_PROJECT,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error);\n    errorFlashMessage(error, dispatch, \"danger\");\n  }\n};\nexport const createProject = post => async (dispatch, getState) => {\n  try {\n    const {\n      data\n    } = await api.createProject(post, getState().auth.token);\n    console.log(data);\n    dispatch({\n      type: CREATE_PROJECT,\n      payload: data\n    });\n    addFlashMessage(\"Post successfully created.\", dispatch);\n  } catch (error) {\n    console.log(error);\n    errorFlashMessage(error, dispatch, \"danger\");\n  }\n};\nexport const updateProject = (projectId, postParams) => async (dispatch, getState) => {\n  try {\n    const {\n      data\n    } = await api.updateProject(projectId, postParams, getState().auth.token);\n    dispatch({\n      type: UPDATE_PROJECT,\n      payload: data\n    }); // addFlashMessage(\"Post successfully updated.\", dispatch)\n  } catch (error) {\n    console.log(error);\n    errorFlashMessage(error, dispatch, \"danger\");\n  }\n};\nexport const deleteProject = projectId => async (dispatch, getState) => {\n  try {\n    await api.deleteProject(projectId, getState().auth.token);\n    dispatch({\n      type: DELETE_PROJECT,\n      payload: projectId\n    }); // addFlashMessage(\"Post successfully deleted.\", dispatch)\n  } catch (error) {\n    console.log(error);\n    errorFlashMessage(error, dispatch, \"danger\");\n  }\n};","map":{"version":3,"sources":["/Users/mymac/repos/issue-tracker-mern/client/src/actions/projects.js"],"names":["api","FETCH_PROJECTS","FETCH_PROJECT","CREATE_PROJECT","DELETE_PROJECT","UPDATE_PROJECT","errorFlashMessage","addFlashMessage","getProjects","dispatch","data","fetchProjects","type","payload","error","console","log","message","getProject","projectId","fetchProject","createProject","post","getState","auth","token","updateProject","postParams","deleteProject"],"mappings":"AAAA,OAAO,KAAKA,GAAZ,MAAqB,QAArB;AACA,SAASC,cAAT,EAAyBC,aAAzB,EAAwCC,cAAxC,EAAwDC,cAAxD,EAAwEC,cAAxE,QAA6F,gBAA7F;AACA,SAASC,iBAAT,EAA4BC,eAA5B,QAAmD,cAAnD;AAGA,OAAO,MAAMC,WAAW,GAAG,MAAM,MAAOC,QAAP,IAAoB;AACnD,MAAI;AACF,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMV,GAAG,CAACW,aAAJ,EAAvB;AACAF,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAEX,cADC;AAEPY,MAAAA,OAAO,EAAEH;AAFF,KAAD,CAAR;AAID,GAND,CAME,OAAOI,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,OAAlB;AACAX,IAAAA,iBAAiB,CAACQ,KAAD,EAAQL,QAAR,EAAkB,QAAlB,CAAjB;AACD;AACF,CAXM;AAaP,OAAO,MAAMS,UAAU,GAAIC,SAAD,IAAe,MAAOV,QAAP,IAAoB;AAC3D,MAAI;AACF,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMV,GAAG,CAACoB,YAAJ,CAAiBD,SAAjB,CAAvB;AACAV,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAEV,aADC;AAEPW,MAAAA,OAAO,EAAEH;AAFF,KAAD,CAAR;AAID,GAND,CAME,OAAOI,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAR,IAAAA,iBAAiB,CAACQ,KAAD,EAAQL,QAAR,EAAkB,QAAlB,CAAjB;AACD;AACF,CAXM;AAaP,OAAO,MAAMY,aAAa,GAAIC,IAAD,IAAU,OAAOb,QAAP,EAAiBc,QAAjB,KAA8B;AACnE,MAAI;AACF,UAAM;AAAEb,MAAAA;AAAF,QAAW,MAAMV,GAAG,CAACqB,aAAJ,CAAkBC,IAAlB,EAAwBC,QAAQ,GAAGC,IAAX,CAAgBC,KAAxC,CAAvB;AACAV,IAAAA,OAAO,CAACC,GAAR,CAAYN,IAAZ;AAEAD,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAET,cADC;AAEPU,MAAAA,OAAO,EAAEH;AAFF,KAAD,CAAR;AAIAH,IAAAA,eAAe,CAAC,4BAAD,EAA+BE,QAA/B,CAAf;AACD,GATD,CASE,OAAOK,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAR,IAAAA,iBAAiB,CAACQ,KAAD,EAAQL,QAAR,EAAkB,QAAlB,CAAjB;AACD;AACF,CAdM;AAgBP,OAAO,MAAMiB,aAAa,GAAG,CAACP,SAAD,EAAYQ,UAAZ,KAA2B,OAAOlB,QAAP,EAAiBc,QAAjB,KAA8B;AACpF,MAAI;AAEF,UAAM;AAAEb,MAAAA;AAAF,QAAW,MAAMV,GAAG,CAAC0B,aAAJ,CAAkBP,SAAlB,EAA6BQ,UAA7B,EAAyCJ,QAAQ,GAAGC,IAAX,CAAgBC,KAAzD,CAAvB;AACAhB,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAEP,cADC;AAEPQ,MAAAA,OAAO,EAAEH;AAFF,KAAD,CAAR,CAHE,CAOF;AACD,GARD,CAQE,OAAOI,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAR,IAAAA,iBAAiB,CAACQ,KAAD,EAAQL,QAAR,EAAkB,QAAlB,CAAjB;AACD;AACF,CAbM;AAeP,OAAO,MAAMmB,aAAa,GAAIT,SAAD,IAAe,OAAOV,QAAP,EAAiBc,QAAjB,KAA8B;AACxE,MAAI;AACF,UAAMvB,GAAG,CAAC4B,aAAJ,CAAkBT,SAAlB,EAA6BI,QAAQ,GAAGC,IAAX,CAAgBC,KAA7C,CAAN;AACAhB,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAER,cADC;AAEPS,MAAAA,OAAO,EAAEM;AAFF,KAAD,CAAR,CAFE,CAMF;AACD,GAPD,CAOE,OAAOL,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAR,IAAAA,iBAAiB,CAACQ,KAAD,EAAQL,QAAR,EAAkB,QAAlB,CAAjB;AACD;AACF,CAZM","sourcesContent":["import * as api from '../api';\nimport { FETCH_PROJECTS, FETCH_PROJECT, CREATE_PROJECT, DELETE_PROJECT, UPDATE_PROJECT} from '../types/index';\nimport { errorFlashMessage, addFlashMessage } from './helpers.js'; \n\n\nexport const getProjects = () => async (dispatch) => {\n  try {\n    const { data } = await api.fetchProjects();\n    dispatch({\n      type: FETCH_PROJECTS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error.message);\n    errorFlashMessage(error, dispatch, \"danger\");\n  }\n}\n\nexport const getProject = (projectId) => async (dispatch) => {\n  try {\n    const { data } = await api.fetchProject(projectId);\n    dispatch({\n      type: FETCH_PROJECT,\n      payload: data\n    })\n  } catch (error) {\n    console.log(error)\n    errorFlashMessage(error, dispatch, \"danger\");\n  }\n}\n\nexport const createProject = (post) => async (dispatch, getState) => {\n  try {\n    const { data } = await api.createProject(post, getState().auth.token);\n    console.log(data)\n\n    dispatch({\n      type: CREATE_PROJECT,\n      payload: data\n    });\n    addFlashMessage(\"Post successfully created.\", dispatch)\n  } catch (error) {\n    console.log(error)\n    errorFlashMessage(error, dispatch, \"danger\");\n  }\n}\n\nexport const updateProject = (projectId, postParams) => async (dispatch, getState) => {\n  try {\n  \n    const { data } = await api.updateProject(projectId, postParams, getState().auth.token);\n    dispatch({\n      type: UPDATE_PROJECT,\n      payload: data\n    });\n    // addFlashMessage(\"Post successfully updated.\", dispatch)\n  } catch (error) {\n    console.log(error);\n    errorFlashMessage(error, dispatch, \"danger\");\n  }\n}\n\nexport const deleteProject = (projectId) => async (dispatch, getState) => {\n  try {\n    await api.deleteProject(projectId, getState().auth.token);\n    dispatch({\n      type: DELETE_PROJECT,\n      payload: projectId\n    });\n    // addFlashMessage(\"Post successfully deleted.\", dispatch)\n  } catch (error) {\n    console.log(error);\n    errorFlashMessage(error, dispatch, \"danger\");\n  }\n}"]},"metadata":{},"sourceType":"module"}