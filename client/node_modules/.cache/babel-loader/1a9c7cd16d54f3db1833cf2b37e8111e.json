{"ast":null,"code":"var _jsxFileName = \"/Users/mymac/repos/issue-tracker-mern/client/src/components/issues/IssuesList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport IssueListItem from './IssueListItem';\nimport ReactPaginate from 'react-paginate';\nimport { set } from 'mongoose';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst IssuesList = ({\n  issues,\n  parentDiv\n}) => {\n  _s();\n\n  const issuesPerPage = 5;\n  let [itemsToRender, setItemsToRender] = useState(issues.slice(0, issuesPerPage));\n  let currentPage = 0;\n  const pageCount = Math.ceil(issues.length / issuesPerPage);\n\n  const renderItems = () => {\n    return itemsToRender.map(issue => {\n      return /*#__PURE__*/_jsxDEV(IssueListItem, {\n        parentDiv: parentDiv,\n        issue: issue\n      }, issue._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 14\n      }, this);\n    });\n  };\n\n  const handlePageChange = ({\n    selected\n  }) => {\n    currentPage = selected;\n    setItemsToRender(issues.slice(selected * issuesPerPage, selected * issuesPerPage + issuesPerPage));\n  };\n\n  const sortIssuesOnPriority = (event, direction) => {\n    event.preventDefault();\n    issues.sort((a, b) => {\n      if (direction === \"low\") {\n        return a.priority - b.priority;\n      } else {\n        return b.priority - a.priority;\n      }\n    });\n    setItemsToRender(issues.slice(currentPage * issuesPerPage, currentPage * issuesPerPage + issuesPerPage));\n  };\n\n  const sortIssuesOnDate = (event, direction) => {\n    event.preventDefault();\n    issues.sort((a, b) => {\n      if (direction === \"new\") {\n        return a.timestamp - b.timestamp;\n      } else {\n        return b.timestamp - a.timestamp;\n      }\n    });\n    setItemsToRender(issues.slice(currentPage * issuesPerPage, currentPage * issuesPerPage + issuesPerPage));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"btn-group mt-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary btn-sm\",\n        children: \"Sort\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary dropdown-toggle dropdown-toggle-split\",\n        \"data-toggle\": \"dropdown\",\n        \"aria-haspopup\": \"true\",\n        \"aria-expanded\": \"false\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"sr-only\",\n          children: \"Toggle Dropdown\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown-menu\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          onClick: e => sortIssuesOnDate(e, \"new\"),\n          className: \"dropdown-item\",\n          href: \"#\",\n          children: \"Newest First\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          onClick: e => sortIssuesOnDate(e, \"old\"),\n          className: \"dropdown-item\",\n          href: \"#\",\n          children: \"Oldest First\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          onClick: e => sortIssuesOnPriority(e, \"high\"),\n          className: \"dropdown-item\",\n          href: \"#\",\n          children: \"Most Urgent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          onClick: e => sortIssuesOnPriority(e, \"low\"),\n          className: \"dropdown-item\",\n          href: \"#\",\n          children: \"Least Urgent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), renderItems(), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(ReactPaginate, {\n      pageCount: pageCount,\n      pageRangeDisplayed: pageCount,\n      marginPagesDisplayed: 1,\n      containerClassName: \"pagination\",\n      pageClassName: \"page-item\",\n      pageLinkClassName: \"page-link\",\n      previousClassName: \"page-item\",\n      previousLinkClassName: \"page-link\",\n      nextClassName: \"page-item\",\n      nextLinkClassName: \"page-link\",\n      activeClassName: \"active\",\n      onPageChange: handlePageChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n\n_s(IssuesList, \"MuHjlkrSQRG97Dau9tdUU2+EZ3c=\");\n\n_c = IssuesList;\nexport default IssuesList;\n\nvar _c;\n\n$RefreshReg$(_c, \"IssuesList\");","map":{"version":3,"sources":["/Users/mymac/repos/issue-tracker-mern/client/src/components/issues/IssuesList.js"],"names":["React","useState","IssueListItem","ReactPaginate","set","IssuesList","issues","parentDiv","issuesPerPage","itemsToRender","setItemsToRender","slice","currentPage","pageCount","Math","ceil","length","renderItems","map","issue","_id","handlePageChange","selected","sortIssuesOnPriority","event","direction","preventDefault","sort","a","b","priority","sortIssuesOnDate","timestamp","e"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,aAAP,MAA0B,gBAA1B;AACA,SAASC,GAAT,QAAoB,UAApB;;;AAEA,MAAMC,UAAU,GAAG,CAAC;AAAEC,EAAAA,MAAF;AAAUC,EAAAA;AAAV,CAAD,KAA2B;AAAA;;AAC5C,QAAMC,aAAa,GAAG,CAAtB;AACA,MAAI,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCT,QAAQ,CAACK,MAAM,CAACK,KAAP,CAAa,CAAb,EAAgBH,aAAhB,CAAD,CAAhD;AACA,MAAII,WAAW,GAAG,CAAlB;AACA,QAAMC,SAAS,GAAGC,IAAI,CAACC,IAAL,CAAUT,MAAM,CAACU,MAAP,GAAgBR,aAA1B,CAAlB;;AAGA,QAAMS,WAAW,GAAG,MAAM;AACxB,WAAOR,aAAa,CAACS,GAAd,CAAkBC,KAAK,IAAI;AAChC,0BAAO,QAAC,aAAD;AAAe,QAAA,SAAS,EAAEZ,SAA1B;AAAqD,QAAA,KAAK,EAAEY;AAA5D,SAA0CA,KAAK,CAACC,GAAhD;AAAA;AAAA;AAAA;AAAA,cAAP;AACD,KAFM,CAAP;AAGD,GAJD;;AAMA,QAAMC,gBAAgB,GAAG,CAAC;AAACC,IAAAA;AAAD,GAAD,KAAgB;AACvCV,IAAAA,WAAW,GAAGU,QAAd;AACAZ,IAAAA,gBAAgB,CAACJ,MAAM,CAACK,KAAP,CAAaW,QAAQ,GAAGd,aAAxB,EAAwCc,QAAQ,GAAGd,aAAZ,GAA6BA,aAApE,CAAD,CAAhB;AACD,GAHD;;AAKA,QAAMe,oBAAoB,GAAG,CAACC,KAAD,EAAQC,SAAR,KAAsB;AACjDD,IAAAA,KAAK,CAACE,cAAN;AACApB,IAAAA,MAAM,CAACqB,IAAP,CAAY,CAACC,CAAD,EAAIC,CAAJ,KAAU;AACpB,UAAIJ,SAAS,KAAK,KAAlB,EAAyB;AACvB,eAAOG,CAAC,CAACE,QAAF,GAAaD,CAAC,CAACC,QAAtB;AACD,OAFD,MAEO;AACL,eAAOD,CAAC,CAACC,QAAF,GAAaF,CAAC,CAACE,QAAtB;AACD;AACF,KAND;AAOApB,IAAAA,gBAAgB,CAACJ,MAAM,CAACK,KAAP,CAAaC,WAAW,GAAGJ,aAA3B,EAA2CI,WAAW,GAAGJ,aAAf,GAAgCA,aAA1E,CAAD,CAAhB;AACD,GAVD;;AAYA,QAAMuB,gBAAgB,GAAG,CAACP,KAAD,EAAQC,SAAR,KAAsB;AAC7CD,IAAAA,KAAK,CAACE,cAAN;AACApB,IAAAA,MAAM,CAACqB,IAAP,CAAY,CAACC,CAAD,EAAIC,CAAJ,KAAU;AACpB,UAAIJ,SAAS,KAAK,KAAlB,EAAyB;AACvB,eAAOG,CAAC,CAACI,SAAF,GAAcH,CAAC,CAACG,SAAvB;AACD,OAFD,MAEO;AACL,eAAOH,CAAC,CAACG,SAAF,GAAcJ,CAAC,CAACI,SAAvB;AACD;AACF,KAND;AAOAtB,IAAAA,gBAAgB,CAACJ,MAAM,CAACK,KAAP,CAAaC,WAAW,GAAGJ,aAA3B,EAA2CI,WAAW,GAAGJ,aAAf,GAAgCA,aAA1E,CAAD,CAAhB;AACD,GAVD;;AAaA,sBACE;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA,8BACE;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,wBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,uDAAhC;AAAwF,uBAAY,UAApG;AAA+G,yBAAc,MAA7H;AAAoI,yBAAc,OAAlJ;AAAA,+BACE;AAAM,UAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAFF,eAKE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA,gCACE;AAAG,UAAA,OAAO,EAAGyB,CAAD,IAAOF,gBAAgB,CAACE,CAAD,EAAI,KAAJ,CAAnC;AAA+C,UAAA,SAAS,EAAC,eAAzD;AAAyE,UAAA,IAAI,EAAC,GAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAG,UAAA,OAAO,EAAGA,CAAD,IAAOF,gBAAgB,CAACE,CAAD,EAAI,KAAJ,CAAnC;AAA+C,UAAA,SAAS,EAAC,eAAzD;AAAyE,UAAA,IAAI,EAAC,GAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAG,UAAA,OAAO,EAAGA,CAAD,IAAOV,oBAAoB,CAACU,CAAD,EAAI,MAAJ,CAAvC;AAAoD,UAAA,SAAS,EAAC,eAA9D;AAA8E,UAAA,IAAI,EAAC,GAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE;AAAG,UAAA,OAAO,EAAGA,CAAD,IAAOV,oBAAoB,CAACU,CAAD,EAAI,KAAJ,CAAvC;AAAmD,UAAA,SAAS,EAAC,eAA7D;AAA6E,UAAA,IAAI,EAAC,GAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,cALF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAaOhB,WAAW,EAblB,eAcM;AAAA;AAAA;AAAA;AAAA,YAdN,eAeM,QAAC,aAAD;AACA,MAAA,SAAS,EAAEJ,SADX;AAEA,MAAA,kBAAkB,EAAEA,SAFpB;AAGA,MAAA,oBAAoB,EAAE,CAHtB;AAIA,MAAA,kBAAkB,EAAC,YAJnB;AAKA,MAAA,aAAa,EAAC,WALd;AAMA,MAAA,iBAAiB,EAAC,WANlB;AAOA,MAAA,iBAAiB,EAAC,WAPlB;AAQA,MAAA,qBAAqB,EAAC,WARtB;AASA,MAAA,aAAa,EAAC,WATd;AAUA,MAAA,iBAAiB,EAAC,WAVlB;AAWA,MAAA,eAAe,EAAC,QAXhB;AAYA,MAAA,YAAY,EAAEQ;AAZd;AAAA;AAAA;AAAA;AAAA,YAfN;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAgCD,CA3ED;;GAAMhB,U;;KAAAA,U;AA6EN,eAAeA,UAAf","sourcesContent":["import React, { useState } from 'react';\nimport IssueListItem from './IssueListItem';\nimport ReactPaginate from 'react-paginate';\nimport { set } from 'mongoose';\n\nconst IssuesList = ({ issues, parentDiv }) => {\n  const issuesPerPage = 5;\n  let [itemsToRender, setItemsToRender] = useState(issues.slice(0, issuesPerPage));\n  let currentPage = 0; \n  const pageCount = Math.ceil(issues.length / issuesPerPage);\n  \n\n  const renderItems = () => {\n    return itemsToRender.map(issue => {\n      return <IssueListItem parentDiv={parentDiv} key={issue._id} issue={issue} />\n    })\n  }\n\n  const handlePageChange = ({selected}) => {\n    currentPage = selected;\n    setItemsToRender(issues.slice(selected * issuesPerPage, (selected * issuesPerPage) + issuesPerPage));\n  }\n\n  const sortIssuesOnPriority = (event, direction) => {\n    event.preventDefault();\n    issues.sort((a, b) => {\n      if (direction === \"low\") {\n        return a.priority - b.priority;\n      } else {\n        return b.priority - a.priority;\n      }\n    });\n    setItemsToRender(issues.slice(currentPage * issuesPerPage, (currentPage * issuesPerPage) + issuesPerPage));\n  }\n\n  const sortIssuesOnDate = (event, direction) => {\n    event.preventDefault();\n    issues.sort((a, b) => {\n      if (direction === \"new\") {\n        return a.timestamp - b.timestamp;\n      } else {\n        return b.timestamp - a.timestamp;\n      }\n    });\n    setItemsToRender(issues.slice(currentPage * issuesPerPage, (currentPage * issuesPerPage) + issuesPerPage));\n  }\n  \n\n  return (\n    <div>\n      <div className=\"btn-group mt-3\">\n        <button type=\"button\" className=\"btn btn-primary btn-sm\">Sort</button>\n        <button type=\"button\" className=\"btn btn-primary dropdown-toggle dropdown-toggle-split\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n          <span className=\"sr-only\">Toggle Dropdown</span>\n        </button>\n        <div className=\"dropdown-menu\">\n          <a onClick={(e) => sortIssuesOnDate(e, \"new\")} className=\"dropdown-item\" href=\"#\">Newest First</a>\n          <a onClick={(e) => sortIssuesOnDate(e, \"old\")} className=\"dropdown-item\" href=\"#\">Oldest First</a>\n          <a onClick={(e) => sortIssuesOnPriority(e, \"high\")} className=\"dropdown-item\" href=\"#\">Most Urgent</a>\n          <a onClick={(e) => sortIssuesOnPriority(e, \"low\")} className=\"dropdown-item\" href=\"#\">Least Urgent</a>\n        </div>\n      </div>\n          {renderItems()}\n          <br />\n          <ReactPaginate\n          pageCount={pageCount}\n          pageRangeDisplayed={pageCount}\n          marginPagesDisplayed={1}\n          containerClassName=\"pagination\"\n          pageClassName=\"page-item\"\n          pageLinkClassName=\"page-link\"\n          previousClassName=\"page-item\"\n          previousLinkClassName=\"page-link\"\n          nextClassName=\"page-item\"\n          nextLinkClassName=\"page-link\"\n          activeClassName=\"active\"\n          onPageChange={handlePageChange}\n          />\n    </div>\n  )\n}\n\nexport default IssuesList\n"]},"metadata":{},"sourceType":"module"}